## 报错1：文件存在
error execution phase preflight: [preflight] Some fatal errors occurred:
    [ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exist

这个报错是因为重复安装引起，执行重置命令即可。
```bash
kubeadm reset
```

## 报错2：container not running
[ERROR CRI]: container runtime is not running: output: E0606 12:41:12.605990 1307975 remote_runtime.go:925] "Status f service runtime.v1alpha2.RuntimeService"  
time="2022-06-06T12:41:12Z" level=fatal msg="getting status of runtime: rpc error: code = Unimplemented desc = unknown servic  
, error: exit status 1  
[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`  
To see the stack trace of this error execute with --v=5 or higher
网上给的解决方法:
```bash
[root@master:~] rm -rf /etc/containerd/config.toml  
[root@master:~] systemctl restart containerd
```

## 报错3: The kubelet is not running

[参考链接](https://www.php.cn/blog/detail/36181.html)  这个问题困住我一段时间。
解决方法, docker的daemon文件写入下面参数。成功解决。
```bash
vi  /etc/docker/daemon.json 
{
  "exec-opts": ["native.cgroupdriver=systemd"],
  "registry-mirrors": ["https://ud6340vz.mirror.aliyuncs.com"]
}
```
[参考链接](https://k8s.easydoc.net/docs/dRiQjyTY/28366845/6GiNOzyZ/nd7yOvdY)

重启
```bash
systemctl daemon-reload
systemctl restart docker
systemctl restart kubelet
kubeadm reset #重置了没事的，反正之前也起不来~`
 
systemctl status kubelet #初始就是启动不了的`

#验证cgroupdriver 修改生效 （这两行都是验证的）看到systemd 就对了`
docker info -f {{.CgroupDriver}}`
docker info | grep -i cgroup`
```