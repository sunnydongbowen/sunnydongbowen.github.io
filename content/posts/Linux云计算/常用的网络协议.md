---
title: "常用的网络协议"                         
author: "博文"   
date: 2023-05-01        
comments: true  
tags : [                                    
     "Linux基础",
 ]
categories : [                              
     "Linux云计算",
 ]
---
# 1. telnet

经常用来测试端口通信，ctr+] 进入交互模式，quit退出交互模式

```bash
[root@cloud1 nova(keystone_admin)]# telnet 172.16.1.155 5672
Trying 172.16.1.155...
Connected to 172.16.1.155.
Escape character is '^]'.
Connection closed by foreign host.
```

[windows下开启telnet客户端](https://jingyan.baidu.com/article/7c6fb428d60c6e80642c90ee.html)

>  telnet默认端口号是23, 在登录交换机命令行时会经常用到

{{< admonition type=note title="more"  >}}
- 从头开始，在屏幕最下方表示显示了多少百分比, 分屏显示，与man命令一样的操作

- 按空格键进行下翻一页或f 

- 回车键滚动一行

- q 退出

- b 回滚看

- /word 搜索
{{< /admonition >}}


# 2. netcat与telnet
 
 > ✍️ 这是测试端口使用的，很好用，可以帮助排除一些端口问题。

## 安装与打开

```bash
# 安装
yum install netcat -y
yum install telnet
# 打开
netcat -l 2222
```

## 在另外一台机器上telnet

```bash
[root@test131 ~]# telnet 192.168.31.120 2222
Trying 192.168.31.120...
Connected to 192.168.31.120.
Escape character is '^]'.
123
3456
Connection closed by foreign host
```

## 看本机的输出

>  在本机上起端口
```bash
[root@os20 compose]# netcat -l 2222
123
3456
^C
```

## 安装遇到问题解决

报错: 匹配不到包

我是在最新的8上面安装的。执行下面命令，再执行安装就可以了

```bash
yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
```

[解决CentOS执行yum时报错Error: Unable to find a match: screen - 服务器技术_卡卡网](http://www.webkaka.com/tutorial/server/2021/082728/)

## nc命令

这个是我测试go程序用的。用telnet同样可以测试，很方便。 其实这些命令行工具是可以用go去实现的。可以尝试写一下。

```bash
[root@centos8 ~]# nc 192.168.0.103 8000
14:48:55
14:48:56
14:48:57
14:48:58
14:48:59
14:49:00
14:49:01
14:49:02
14:49:03
```


# 3. scp

 从本机拷贝到远程，两个记住一个就可以了。这个比下面那个好记

```bash
# 从本机拷贝到远程，两个记住一个就可以了。这个比下面那个好记
scp model_optimize7.qcow2  192.168.40.76:/home/gluster
```

从远程弄到本地，这条对于windows也是有用的，后面跟windows的目录即可

```bash
scp -r root@192.168.40.50:/usr/lib64/libx264.so.157   /usr/lib64
```

指定远程端口号 -P，这里与ssh不同，是大写的！

传输软件： FileZilla WinScp，用WinScp习惯了，就用SCP吧，方便！其实用FileZilla也挺方便的

```bash
scp -P file  host:diretory
scp -P 12422 root@rmt.ixinwu.com:/home/images/generic.qcow2  /drives/d
```

# 4. arp

>  ✍️ 这个命令很重要，之前写的py脚本就是用的这个命令反向批量定位的，切割了一下。来获取ip地址。不得不说，py在这一块还是很好用的！当然，go也能实现，只是稍微有些麻烦。

```bash
[root@ocloud-zentao ocloud]# arp -a
? (192.168.40.18) at 00:11:32:a1:d6:64 [ether] on eth0
? (192.168.40.4) at 74:05:a5:fb:0f:61 [ether] on eth0
? (192.168.40.160) at e4:3a:6e:0f:f6:52 [ether] on eth0
? (192.168.40.49) at 52:54:00:3c:4c:9d [ether] on eth0
? (192.168.40.45) at e4:3a:6e:1d:07:4c [ether] on eth0
? (192.168.40.32) at e4:3a:6e:0f:f6:0b [ether] on eth0
gateway (192.168.40.1) at 00:24:ac:f5:03:e7 [ether] on eth0
```



